{"version":3,"file":"static/js/316.1c492ade.chunk.js","mappings":"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","sources":["pages/reports/CustomerSegmentation.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport '../../styles/CustomerSegmentation.css';\r\n\r\n// --- UTILITY FUNCTIONS ---\r\nconst formatCurrency = (val) => {\r\n    if (typeof val !== 'number' || isNaN(val)) return '-';\r\n    // Returns $ 1,234.00\r\n    return `$ ${val.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\r\n};\r\n\r\nconst formatNumber = (val) => {\r\n    if (typeof val !== 'number' || isNaN(val)) return '0';\r\n    return val.toLocaleString('en-US');\r\n};\r\n\r\nconst calculateRate = (revenue, rooms) => {\r\n    if (!rooms || rooms === 0) return 0;\r\n    return revenue / rooms;\r\n};\r\n\r\nconst calculatePercent = (val, total) => {\r\n    if (!total || total === 0) return 0;\r\n    return (val / total) * 100;\r\n};\r\n\r\n// --- MOCK DATA SOURCE (Replace with Backend Fetch) ---\r\nconst fetchCustomerData = () => {\r\n    // Structure: Raw numbers only. The component calculates rates & %\r\n    return [\r\n        { id: 1, name: 'MLAMBO', d_bn: 1, d_rn: 1, d_rev: 0, m_bn: 1, m_rn: 1, m_rev: 80.00 },\r\n        { id: 2, name: 'PELUM-ZWE', d_bn: 93, d_rn: 93, d_rev: 1550.00, m_bn: 93, m_rn: 93, m_rev: 1550.00 },\r\n        { id: 3, name: 'NDOMERA', d_bn: 3, d_rn: 2, d_rev: 100.00, m_bn: 3, m_rn: 2, m_rev: 100.00 },\r\n        { id: 4, name: 'SALIWE', d_bn: 1, d_rn: 1, d_rev: 30.00, m_bn: 1, m_rn: 1, m_rev: 30.00 },\r\n        { id: 5, name: 'TAFADZWA', d_bn: 2, d_rn: 1, d_rev: 30.00, m_bn: 2, m_rn: 1, m_rev: 30.00 },\r\n        { id: 6, name: 'AFRICAN GAS', d_bn: 8, d_rn: 7, d_rev: 285.00, m_bn: 8, m_rn: 7, m_rev: 285.00 },\r\n        { id: 7, name: 'CAMFED', d_bn: 2, d_rn: 2, d_rev: 80.00, m_bn: 2, m_rn: 2, m_rev: 80.00 },\r\n        { id: 8, name: 'MUGANHURI', d_bn: 1, d_rn: 1, d_rev: 30.00, m_bn: 1, m_rn: 1, m_rev: 30.00 },\r\n        { id: 9, name: 'HQ 2 INFANTRY BRIGADE', d_bn: 2, d_rn: 2, d_rev: 240.00, m_bn: 2, m_rn: 2, m_rev: 240.00 },\r\n        { id: 10, name: 'CHIVIRI', d_bn: 1, d_rn: 1, d_rev: 80.00, m_bn: 1, m_rn: 1, m_rev: 80.00 },\r\n        { id: 11, name: 'TRANSIT', d_bn: 4, d_rn: 3, d_rev: 90.00, m_bn: 4, m_rn: 3, m_rev: 90.00 },\r\n        { id: 12, name: 'EMA', d_bn: 6, d_rn: 6, d_rev: 150.00, m_bn: 6, m_rn: 6, m_rev: 150.00 },\r\n        { id: 13, name: 'INSTA TOLL', d_bn: 4, d_rn: 4, d_rev: 240.00, m_bn: 4, m_rn: 4, m_rev: 240.00 },\r\n    ];\r\n};\r\n\r\nconst CustomerSegmentation = () => {\r\n    const [data, setData] = useState([]);\r\n\r\n    useEffect(() => {\r\n        setData(fetchCustomerData());\r\n    }, []);\r\n\r\n    // --- CALCULATION ENGINE ---\r\n    const totals = useMemo(() => {\r\n        return data.reduce((acc, row) => ({\r\n            d_bn: acc.d_bn + row.d_bn,\r\n            d_rn: acc.d_rn + row.d_rn,\r\n            d_rev: acc.d_rev + row.d_rev,\r\n            m_bn: acc.m_bn + row.m_bn,\r\n            m_rn: acc.m_rn + row.m_rn,\r\n            m_rev: acc.m_rev + row.m_rev,\r\n        }), { d_bn: 0, d_rn: 0, d_rev: 0, m_bn: 0, m_rn: 0, m_rev: 0 });\r\n    }, [data]);\r\n\r\n    const d_avgRateTotal = calculateRate(totals.d_rev, totals.d_rn);\r\n    const m_avgRateTotal = calculateRate(totals.m_rev, totals.m_rn);\r\n\r\n    return (\r\n        <div className=\"report-container\">\r\n            <header className=\"report-header\">\r\n                <h2>Customer Segmentation</h2>\r\n                <span className=\"date-badge\">15-Jul-25</span>\r\n            </header>\r\n\r\n            <div className=\"table-wrapper\">\r\n                <table className=\"segmentation-table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th className=\"sticky-col\">Customer</th>\r\n                            <th colSpan=\"6\" className=\"group-header\">15-Jul-25 (Actual)</th>\r\n                            <th colSpan=\"6\" className=\"group-header\">Month To Date</th>\r\n                        </tr>\r\n                        <tr className=\"sub-header\">\r\n                            <th className=\"sticky-col\">Name</th>\r\n                            {/* Day Columns */}\r\n                            <th>Bed Nights</th><th>% Contr</th>\r\n                            <th>Room Nights</th><th>% Cont</th>\r\n                            <th>Revenue</th><th>Ave Rm Rate</th>\r\n                            {/* MTD Columns */}\r\n                            <th>Bed Nights</th><th>% Contr</th>\r\n                            <th>Room Nights</th><th>% Cont</th>\r\n                            <th>Revenue</th><th>Ave Rm Rate</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {data.map((row) => (\r\n                            <tr key={row.id}>\r\n                                <td className=\"text-left sticky-col\">{row.name}</td>\r\n                                \r\n                                {/* DAY DATA */}\r\n                                <td>{formatNumber(row.d_bn)}</td>\r\n                                <td>{calculatePercent(row.d_bn, totals.d_bn).toFixed(2)}</td>\r\n                                <td>{formatNumber(row.d_rn)}</td>\r\n                                <td>{calculatePercent(row.d_rn, totals.d_rn).toFixed(2)}</td>\r\n                                <td className=\"currency\">{formatCurrency(row.d_rev)}</td>\r\n                                <td className=\"currency\">{formatCurrency(calculateRate(row.d_rev, row.d_rn))}</td>\r\n\r\n                                {/* MTD DATA */}\r\n                                <td>{formatNumber(row.m_bn)}</td>\r\n                                <td>{calculatePercent(row.m_bn, totals.m_bn).toFixed(2)}</td>\r\n                                <td>{formatNumber(row.m_rn)}</td>\r\n                                <td>{calculatePercent(row.m_rn, totals.m_rn).toFixed(2)}</td>\r\n                                <td className=\"currency\">{formatCurrency(row.m_rev)}</td>\r\n                                <td className=\"currency\">{formatCurrency(calculateRate(row.m_rev, row.m_rn))}</td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                    <tfoot>\r\n                        <tr className=\"total-row\">\r\n                            <td className=\"sticky-col\">TOTAL</td>\r\n                            <td>{formatNumber(totals.d_bn)}</td>\r\n                            <td>100.00</td>\r\n                            <td>{formatNumber(totals.d_rn)}</td>\r\n                            <td>100.00</td>\r\n                            <td className=\"currency\">{formatCurrency(totals.d_rev)}</td>\r\n                            <td className=\"currency\">{formatCurrency(d_avgRateTotal)}</td>\r\n                            \r\n                            <td>{formatNumber(totals.m_bn)}</td>\r\n                            <td>100.00</td>\r\n                            <td>{formatNumber(totals.m_rn)}</td>\r\n                            <td>100.00</td>\r\n                            <td className=\"currency\">{formatCurrency(totals.m_rev)}</td>\r\n                            <td className=\"currency\">{formatCurrency(m_avgRateTotal)}</td>\r\n                        </tr>\r\n                    </tfoot>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CustomerSegmentation;"],"names":["formatCurrency","val","isNaN","concat","toLocaleString","minimumFractionDigits","maximumFractionDigits","formatNumber","calculateRate","revenue","rooms","calculatePercent","total","CustomerSegmentation","data","setData","useState","useEffect","id","name","d_bn","d_rn","d_rev","m_bn","m_rn","m_rev","totals","useMemo","reduce","acc","row","d_avgRateTotal","m_avgRateTotal","_jsxs","className","children","_jsx","colSpan","map","toFixed"],"sourceRoot":""}