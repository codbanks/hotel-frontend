{"version":3,"file":"static/js/293.7a71419c.chunk.js","mappings":"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","sources":["pages/reports/DeptSalesSummary.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport api from '../../api/api';\r\nimport '../../styles/FinancialSummary.css';\r\n\r\nconst isoDate = (date) => new Date(date).toISOString().split('T')[0];\r\nconst toNumber = (val) => parseFloat(val) || 0;\r\n\r\nconst formatCurrency = (amount) => {\r\n    if (amount === undefined || amount === null) return '$ 0.00';\r\n    const absVal = Math.abs(amount).toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });\r\n    return amount < 0 ? `$ (${absVal})` : `$ ${absVal}`;\r\n};\r\n\r\nconst formatPercent = (val, total) => {\r\n    if (!total || total === 0) return '0.00';\r\n    return ((val / total) * 100).toFixed(2);\r\n};\r\n\r\nconst FinancialSummary = () => {\r\n    const [selectedDate, setSelectedDate] = useState(isoDate(new Date()));\r\n    const [dayRows, setDayRows] = useState([]);\r\n    const [mtdRows, setMtdRows] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const loadData = async () => {\r\n            setLoading(true);\r\n            try {\r\n                const dateObj = new Date(selectedDate);\r\n                const firstOfMonth = `${dateObj.getFullYear()}-${String(dateObj.getMonth() + 1).padStart(2, '0')}-01`;\r\n                const [resDay, resMtd] = await Promise.all([\r\n                    api.get(`/ledger/?date=${selectedDate}`),\r\n                    api.get(`/ledger/?start_date=${firstOfMonth}&end_date=${selectedDate}`)\r\n                ]);\r\n                setDayRows(resDay.data || []);\r\n                setMtdRows(resMtd.data || []);\r\n            } catch (err) { console.error(\"Fetch Error:\", err); }\r\n            finally { setLoading(false); }\r\n        };\r\n        loadData();\r\n    }, [selectedDate]);\r\n\r\n    const aggregate = (rows) => {\r\n        const s = { acc: 0, food: 0, bar: 0, lndry: 0, pool: 0, room: 0, other: 0, usd_swp: 0, eco: 0, zig: 0, cash: 0, ledg: 0, bank: 0 };\r\n        rows.forEach(r => {\r\n            s.acc += toNumber(r.acc); s.food += toNumber(r.food); s.bar += toNumber(r.bar);\r\n            s.lndry += toNumber(r.lndry); s.pool += toNumber(r.pool); s.room += toNumber(r.room);\r\n            s.other += toNumber(r.other); s.usd_swp += toNumber(r.usd_swp); s.eco += toNumber(r.eco);\r\n            s.zig += toNumber(r.zig); s.cash += toNumber(r.cash); s.ledg += toNumber(r.ledg); s.bank += toNumber(r.bank);\r\n        });\r\n        const charges = s.acc + s.food + s.bar + s.lndry + s.pool + s.room + s.other;\r\n        const payments = s.usd_swp + s.eco + s.zig + s.cash + s.ledg + s.bank;\r\n        return { ...s, totalSales: charges, totalCash: s.usd_swp + s.eco + s.zig + s.cash + s.bank, debtors: charges - payments };\r\n    };\r\n\r\n    const day = useMemo(() => aggregate(dayRows), [dayRows]);\r\n    const mtd = useMemo(() => aggregate(mtdRows), [mtdRows]);\r\n\r\n    if (loading) return <div className=\"loading-state\">Syncing Financials...</div>;\r\n\r\n    return (\r\n        <div className=\"financial-report-scroll-container\">\r\n            {/* STICKY DATE HEADER */}\r\n            <header className=\"sticky-date-navigator\">\r\n                <div className=\"nav-content\">\r\n                    <button onClick={() => {\r\n                        const d = new Date(selectedDate); d.setDate(d.getDate() - 1); setSelectedDate(isoDate(d));\r\n                    }} className=\"nav-btn\">← PREVIOUS</button>\r\n                    \r\n                    <div className=\"date-badge\">\r\n                        <span>LEDGER SUMMARY:</span>\r\n                        <input type=\"date\" value={selectedDate} onChange={(e) => setSelectedDate(e.target.value)} />\r\n                    </div>\r\n\r\n                    <button onClick={() => {\r\n                        const d = new Date(selectedDate); d.setDate(d.getDate() + 1); setSelectedDate(isoDate(d));\r\n                    }} className=\"nav-btn\">NEXT →</button>\r\n                </div>\r\n            </header>\r\n\r\n            <main className=\"snap-wrapper\">\r\n                {/* SECTION 1: DEPARTMENTAL SALES */}\r\n                <section className=\"report-section\">\r\n                    <div className=\"section-card\">\r\n                        <div className=\"card-header\"><h3>Departmental Sales Summary</h3></div>\r\n                        <div className=\"table-container\">\r\n                            <table className=\"fin-table\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th className=\"text-left\">Department</th>\r\n                                        <th colSpan=\"2\" className=\"group-head\">{selectedDate} (Actual)</th>\r\n                                        <th colSpan=\"2\" className=\"group-head\">Month To Date</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {[\r\n                                        { n: 'ACCOMMODATION', d: day.acc, m: mtd.acc },\r\n                                        { n: 'FOOD', d: day.food, m: mtd.food },\r\n                                        { n: 'BEVERAGES', d: day.bar, m: mtd.bar },\r\n                                        { n: 'SWIMMING POOL', d: day.pool, m: mtd.pool },\r\n                                        { n: 'LAUNDRY', d: day.lndry, m: mtd.lndry },\r\n                                        { n: 'ROOM HIRE', d: day.room, m: mtd.room },\r\n                                        { n: 'OTHER', d: day.other, m: mtd.other }\r\n                                    ].map((row, i) => (\r\n                                        <tr key={i}>\r\n                                            <td className=\"text-left\">{row.n}</td>\r\n                                            <td className=\"numeric\">{formatCurrency(row.d)}</td>\r\n                                            <td className=\"percent\">{formatPercent(row.d, day.totalSales)}</td>\r\n                                            <td className=\"numeric\">{formatCurrency(row.m)}</td>\r\n                                            <td className=\"percent\">{formatPercent(row.m, mtd.totalSales)}</td>\r\n                                        </tr>\r\n                                    ))}\r\n                                </tbody>\r\n                                <tfoot>\r\n                                    <tr className=\"total-row\">\r\n                                        <td className=\"text-left\">TOTAL SALES</td>\r\n                                        <td className=\"numeric\">{formatCurrency(day.totalSales)}</td>\r\n                                        <td className=\"percent\">100.00</td>\r\n                                        <td className=\"numeric\">{formatCurrency(mtd.totalSales)}</td>\r\n                                        <td className=\"percent\">100.00</td>\r\n                                    </tr>\r\n                                </tfoot>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n\r\n                {/* SECTION 2: REVENUE CASH SUMMARY */}\r\n                <section className=\"report-section\">\r\n                    <div className=\"section-card\">\r\n                        <div className=\"card-header\"><h3>Revenue Cash Summary</h3></div>\r\n                        <div className=\"table-container\">\r\n                            <table className=\"fin-table\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th className=\"text-left\">Description</th>\r\n                                        <th colSpan=\"2\" className=\"group-head\">{selectedDate}</th>\r\n                                        <th colSpan=\"2\" className=\"group-head\">MTD</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr><td className=\"text-left\">USD SWIPE</td><td className=\"numeric\">{formatCurrency(day.usd_swp)}</td><td className=\"percent\">-</td><td className=\"numeric\">{formatCurrency(mtd.usd_swp)}</td><td className=\"percent\">-</td></tr>\r\n                                    <tr><td className=\"text-left\">ECOCASH (ECO)</td><td className=\"numeric\">{formatCurrency(day.eco)}</td><td className=\"percent\">-</td><td className=\"numeric\">{formatCurrency(mtd.eco)}</td><td className=\"percent\">-</td></tr>\r\n                                    <tr><td className=\"text-left\">ZIG / BANK</td><td className=\"numeric\">{formatCurrency(day.zig + day.bank)}</td><td className=\"percent\">-</td><td className=\"numeric\">{formatCurrency(mtd.zig + mtd.bank)}</td><td className=\"percent\">-</td></tr>\r\n                                    <tr><td className=\"text-left\">USD CASH</td><td className=\"numeric\">{formatCurrency(day.cash)}</td><td className=\"percent\">-</td><td className=\"numeric\">{formatCurrency(mtd.cash)}</td><td className=\"percent\">-</td></tr>\r\n                                    <tr className=\"subtotal-row\">\r\n                                        <td className=\"text-left\">TOTAL CASH</td>\r\n                                        <td className=\"numeric\">{formatCurrency(day.totalCash)}</td>\r\n                                        <td className=\"percent\">0.00</td>\r\n                                        <td className=\"numeric\">{formatCurrency(mtd.totalCash)}</td>\r\n                                        <td className=\"percent\">{formatPercent(mtd.totalCash, mtd.totalSales)}</td>\r\n                                    </tr>\r\n                                    <tr><td className=\"text-left\">DEBTORS IN RESIDENCE</td><td className={`numeric ${day.debtors !== 0 ? 'negative-val' : ''}`}>{formatCurrency(day.debtors)}</td><td className=\"percent\">0.00</td><td className={`numeric ${mtd.debtors !== 0 ? 'negative-val' : ''}`}>{formatCurrency(mtd.debtors)}</td><td className=\"percent\">{formatPercent(mtd.debtors, mtd.totalSales)}</td></tr>\r\n                                    <tr><td className=\"text-left\">T / T LEDGER</td><td className=\"numeric\">{formatCurrency(day.ledg)}</td><td className=\"percent\">0.00</td><td className=\"numeric\">{formatCurrency(mtd.ledg)}</td><td className=\"percent\">{formatPercent(mtd.ledg, mtd.totalSales)}</td></tr>\r\n                                </tbody>\r\n                                <tfoot>\r\n                                    <tr className=\"total-row grand-total\">\r\n                                        <td className=\"text-left\">TOTAL REVENUE</td>\r\n                                        <td className=\"numeric\">{formatCurrency(day.totalSales)}</td>\r\n                                        <td className=\"percent\">{formatCurrency(day.totalCash)}</td>\r\n                                        <td className=\"numeric\">{formatCurrency(mtd.totalSales)}</td>\r\n                                        <td className=\"percent\">100.00</td>\r\n                                    </tr>\r\n                                </tfoot>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </main>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FinancialSummary;"],"names":["isoDate","date","Date","toISOString","split","toNumber","val","parseFloat","formatCurrency","amount","undefined","absVal","Math","abs","toLocaleString","minimumFractionDigits","maximumFractionDigits","concat","formatPercent","total","toFixed","FinancialSummary","selectedDate","setSelectedDate","useState","dayRows","setDayRows","mtdRows","setMtdRows","loading","setLoading","useEffect","async","dateObj","firstOfMonth","getFullYear","String","getMonth","padStart","resDay","resMtd","Promise","all","api","get","data","err","console","error","loadData","aggregate","rows","s","acc","food","bar","lndry","pool","room","other","usd_swp","eco","zig","cash","ledg","bank","forEach","r","charges","payments","_objectSpread","totalSales","totalCash","debtors","day","useMemo","mtd","_jsx","className","children","_jsxs","onClick","d","setDate","getDate","type","value","onChange","e","target","colSpan","n","m","map","row","i"],"sourceRoot":""}