"use strict";(self.webpackChunkhotel_frontend=self.webpackChunkhotel_frontend||[]).push([[265],{265:(e,r,s)=>{s.r(r),s.d(r,{default:()=>a});var t=s(43),n=s(579);const o=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"number"!==typeof e||isNaN(e)||!isFinite(e)?"-":e.toFixed(r)},i=e=>"number"!==typeof e||isNaN(e)||!isFinite(e)?(0,n.jsx)("span",{className:"error-text",children:"-"}):"$ ".concat(e.toFixed(2)),d=(e,r)=>{if(0===r||null===r||void 0===r)return{value:NaN,display:(0,n.jsx)("span",{className:"error-text",children:"0.00"})};const s=e/r*100;return{value:s,display:o(s)}},m=(e,r)=>{if(0===r||null===r||void 0===r)return{value:NaN,display:(0,n.jsx)("span",{className:"error-text",children:"#DIV/0!"})};const s=e/r;return{value:s,display:i(s)}};const a=()=>{const[e,r]=(0,t.useState)([]),[s,a]=(0,t.useState)("2025-07-15");(0,t.useEffect)(()=>{var e;const t=function(e){const r=["Conference","Business","Transit","Leisure"],s=r.reduce((r,s)=>({bedNights:r.bedNights+e[s].dbn,roomNights:r.roomNights+e[s].drn,revenue:r.revenue+e[s].dr}),{bedNights:0,roomNights:0,revenue:0}),t=r.reduce((r,s)=>({bedNights:r.bedNights+e[s].mbn,roomNights:r.roomNights+e[s].mrn,revenue:r.revenue+e[s].mr}),{bedNights:0,roomNights:0,revenue:0}),n=r.map(r=>{const n=e[r],o=d(n.dbn,s.bedNights),i=d(n.drn,s.roomNights),a=m(n.dr,n.drn),h=d(n.mbn,t.bedNights),l=d(n.mrn,t.roomNights),c=m(n.mr,n.mrn);return{segment:r,day:{bedNights:n.dbn,contr:o,roomNights:n.drn,cont:i,revenue:n.dr,rate:a},mtd:{bedNights:n.mbn,contr:h,roomNights:n.mrn,cont:l,revenue:n.mr,rate:c}}}),i={segment:"TOTAL",isTotal:!0,day:{bedNights:s.bedNights,contr:d(s.bedNights,s.bedNights),roomNights:s.roomNights,cont:d(s.roomNights,s.roomNights),revenue:s.revenue,rate:m(s.revenue,s.roomNights)},mtd:{bedNights:t.bedNights,contr:d(t.bedNights,t.bedNights),roomNights:t.roomNights,cont:d(t.roomNights,t.roomNights),revenue:t.revenue,rate:m(t.revenue,t.roomNights)}},a={segment:"COMPLIMENTARY",isComp:!0,day:{bedNights:e.Complimentary.dbn,contr:{value:0,display:o(0)},roomNights:e.Complimentary.drn,cont:{value:0,display:o(0)},revenue:e.Complimentary.dr,rate:m(e.Complimentary.dr,e.Complimentary.drn)},mtd:{bedNights:e.Complimentary.mbn,contr:d(e.Complimentary.mbn,t.bedNights+e.Complimentary.mbn+e.HouseUse.mbn),roomNights:e.Complimentary.mrn,cont:d(e.Complimentary.mrn,t.roomNights+e.Complimentary.mrn+e.HouseUse.mrn),revenue:e.Complimentary.mr,rate:m(e.Complimentary.mr,e.Complimentary.mrn)}},h={segment:"HOUSE USE",isHouseUse:!0,day:{bedNights:e.HouseUse.dbn,contr:{value:0,display:o(0)},roomNights:e.HouseUse.drn,cont:{value:0,display:o(0)},revenue:e.HouseUse.dr,rate:m(e.HouseUse.dr,e.HouseUse.drn)},mtd:{bedNights:e.HouseUse.mbn,contr:d(e.HouseUse.mbn,t.bedNights+e.Complimentary.mbn+e.HouseUse.mbn),roomNights:e.HouseUse.mrn,cont:d(e.HouseUse.mrn,t.roomNights+e.Complimentary.mrn+e.HouseUse.mrn),revenue:e.HouseUse.mr,rate:m(e.HouseUse.mr,e.HouseUse.mrn)}},l={bedNights:s.bedNights+a.day.bedNights+h.day.bedNights,roomNights:s.roomNights+a.day.roomNights+h.day.roomNights,revenue:s.revenue+a.day.revenue+h.day.revenue},c={bedNights:t.bedNights+a.mtd.bedNights+h.mtd.bedNights,roomNights:t.roomNights+a.mtd.roomNights+h.mtd.roomNights,revenue:t.revenue+a.mtd.revenue+h.mtd.revenue};return[...n,i,a,h,{segment:"TOTAL",isGrandTotal:!0,day:{bedNights:l.bedNights,contr:d(l.bedNights,l.bedNights),roomNights:l.roomNights,cont:d(l.roomNights,l.roomNights),revenue:l.revenue,rate:m(l.revenue,l.roomNights)},mtd:{bedNights:c.bedNights,contr:d(c.bedNights,c.bedNights),roomNights:c.roomNights,cont:d(c.roomNights,c.roomNights),revenue:c.revenue,rate:m(c.revenue,c.roomNights)}}]}((e=s,console.log("Fetching Sales & Marketing data for: ".concat(e)),{Conference:{dbn:0,drn:0,dr:0,mbn:0,mrn:0,mr:0},Business:{dbn:0,drn:0,dr:0,mbn:136,mrn:132,mr:6505},Transit:{dbn:0,drn:0,dr:0,mbn:0,mrn:0,mr:0},Leisure:{dbn:0,drn:0,dr:0,mbn:0,mrn:0,mr:0},Complimentary:{dbn:0,drn:0,dr:0,mbn:2,mrn:2,mr:0},HouseUse:{dbn:1,drn:1,dr:0,mbn:18,mrn:18,mr:0}}));r(t)},[s]);const h=e=>e.isGrandTotal?"grand-total-row":e.isTotal?"total-row":"",l=e=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("td",{className:"numeric",children:o(e.bedNights,0)}),(0,n.jsx)("td",{className:"numeric",children:e.contr.display}),(0,n.jsx)("td",{className:"numeric",children:o(e.roomNights,0)}),(0,n.jsx)("td",{className:"numeric",children:e.cont.display}),(0,n.jsx)("td",{className:"currency",children:i(e.revenue)}),(0,n.jsx)("td",{className:"currency",children:e.rate.display})]});return(0,n.jsxs)("div",{className:"sales-marketing-container",children:[(0,n.jsxs)("div",{className:"report-header",children:[(0,n.jsx)("button",{className:"date-nav-btn",onClick:()=>console.log("Navigating to previous day..."),children:"\u276e Prev"}),(0,n.jsxs)("div",{className:"report-header-center",children:[(0,n.jsx)("h1",{className:"report-title",children:"Sales and Marketing Segmentation"}),(0,n.jsxs)("p",{className:"report-sub",children:["Date: ",(0,n.jsx)("span",{children:s})]})]}),(0,n.jsx)("button",{className:"date-nav-btn",onClick:()=>console.log("Navigating to next day..."),children:"Next \u276f"})]}),(0,n.jsx)("div",{className:"table-wrapper",children:(0,n.jsxs)("table",{id:"analysisTable",children:[(0,n.jsxs)("thead",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{rowSpan:"2",style:{verticalAlign:"bottom"},children:"Segment"}),(0,n.jsx)("th",{colSpan:"6",className:"group-header",children:"Daily Stats (Actual)"}),(0,n.jsx)("th",{colSpan:"6",className:"group-header",children:"Month To Date"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Bed Nights"}),(0,n.jsx)("th",{children:"%Contr"}),(0,n.jsx)("th",{children:"Room Nights"}),(0,n.jsx)("th",{children:"% Cont"}),(0,n.jsx)("th",{className:"currency",children:"Revenue"}),(0,n.jsx)("th",{className:"currency",children:"Ave Rm Rate"}),(0,n.jsx)("th",{children:"Bed Nights"}),(0,n.jsx)("th",{children:"%Contr"}),(0,n.jsx)("th",{children:"Room Nights"}),(0,n.jsx)("th",{children:"% Cont"}),(0,n.jsx)("th",{className:"currency",children:"Revenue"}),(0,n.jsx)("th",{className:"currency",children:"Ave Rm Rate"})]})]}),(0,n.jsx)("tbody",{children:e.map((e,r)=>(0,n.jsxs)("tr",{className:h(e),children:[(0,n.jsx)("td",{children:e.segment}),l(e.day),l(e.mtd)]},r))})]})})]})}}}]);
//# sourceMappingURL=265.f04b8913.chunk.js.map